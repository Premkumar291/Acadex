import { useState, useEffect } from 'react';import { useState, useEffect } from 'react';

import { useNavigate } from 'react-router-dom';import { useNavigate } from 'react-router-dom';

import { motion } from 'framer-motion';import { motion } from 'framer-motion';

import { Bell } from 'lucide-react';import { Bell } from 'lucide-react';

import { checkAuth } from '@/api/auth';import { checkAuth } from '@/api/auth';

import PDFProcessingCard from './PDFProcessingCard';import PDFProcessingCard from './PDFProcessingCard';

import FacultyReportEditor from './FacultyReportEditor.jsx';import FacultyReportEditor from './FacultyReportEditor.jsx';



const Dashboard = () => {

  const [error, setError] = useState('');

  const [user, setUser] = useState(null);const Dashboard = () => {

  const [userLoading, setUserLoading] = useState(true);  const [error, setError] = useState('');

  const isDarkMode = true; // Always use dark mode  const [user, setUser] = useState(null);

  const navigate = useNavigate();  const [userLoading, setUserLoading] = useState(true);

  const isDarkMode = true; // Always use dark mode

  // ColourfulText Component (inline)  const navigate = useNavigate();

  const ColourfulText = ({ text, className = '' }) => {

    return (  // ColourfulText Component (inline)

      <span  const ColourfulText = ({ text, className = '' }) => {

        className={`inline-block ${className}`}    return (

        style={{      <span

          fontFamily: "'Orbitron', 'Exo 2', 'Rajdhani', monospace",        className={`inline-block ${className}`}

        }}        style={{

      >          fontFamily: "'Orbitron', 'Exo 2', 'Rajdhani', monospace",

        {text.split('').map((char, index) => (        }}

          <motion.span      >

            key={index}        {text.split('').map((char, index) => (

            style={{          <motion.span

              display: 'inline-block',            key={index}

              background: 'linear-gradient(90deg, #a855f7 0%, #8b5cf6 50%, #ec4899 100%)',            style={{

              WebkitBackgroundClip: 'text',              display: 'inline-block',

              backgroundClip: 'text',              background: 'linear-gradient(90deg, #a855f7 0%, #8b5cf6 50%, #ec4899 100%)',

              color: 'transparent',              WebkitBackgroundClip: 'text',

              letterSpacing: '0.02em',              backgroundClip: 'text',

              fontWeight: 700,              color: 'transparent',

              margin: char === ' ' ? '0 0.12em' : '0',              letterSpacing: '0.02em',

            }}              fontWeight: 700,

            animate={{ opacity: 1, y: 0 }}              margin: char === ' ' ? '0 0.12em' : '0',

            transition={{            }}

              duration: 0.5,            animate={{ opacity: 1, y: 0 }}

              delay: index * 0.1,            transition={{

              ease: 'easeOut',              duration: 0.5,

            }}              delay: index * 0.1,

            whileHover={{              ease: 'easeOut',

              scale: 1.2,            }}

              transition: { duration: 0.2 },            whileHover={{

            }}              scale: 1.2,

          >              transition: { duration: 0.2 },

            {char === ' ' ? '\u00A0' : char}            }}

          </motion.span>          >

        ))}            {char === ' ' ? '\u00A0' : char}

      </span>          </motion.span>

    );        ))}

  };      </span>

      );

  useEffect(() => {  };

    const verifyAuth = async () => {  

      try {  useEffect(() => {

        const userData = await checkAuth();    const verifyAuth = async () => {

        setUser(userData);      try {

      } catch (err) {        const userData = await checkAuth();

        console.error('Authentication failed:', err);        setUser(userData);

        navigate('/login');      } catch (err) {

      } finally {        console.error('Authentication failed:', err);

        setUserLoading(false);        navigate('/login');

      }      } finally {

    };        setUserLoading(false);

          }

    verifyAuth();    };

  }, [navigate]);    

    verifyAuth();

  if (userLoading) {  }, [navigate]);            key={index}          <motion.span

    return (

      <div className="flex items-center justify-center min-h-screen">  }

        <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500"></div>

      </div>            style={{            key={index}

    );

  }  useEffect(() => {



  return (    const verifyAuth = async () => {              display: "inline-block",            style={{

    <div className={`min-h-screen theme-transition ${isDarkMode ? 'dark-bg' : 'bg-white'}`}>

      {/* Main Content */}      try {

      <div className="flex-1 flex flex-col min-h-screen">

        {/* Header */}        const userData = await checkAuth()              background: "linear-gradient(90deg, #a855f7 0%, #8b5cf6 50%, #ec4899 100%)",              display: "inline-block",

        <header className={`animate-header ${isDarkMode ? 'dark-navbar' : 'white-navbar'}`}>

          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">        setUser(userData)

            <div className="flex items-center justify-between h-16">

              {/* Brand Section */}      } catch (err) {              WebkitBackgroundClip: "text",              background: "linear-gradient(90deg, #a855f7 0%, #8b5cf6 50%, #ec4899 100%)", // from-purple-500, via-violet-500, to-pink-500

              <div className="flex items-center">

                <div className="acadex-logo text-2xl">        console.error("Authentication failed:", err)

                  <span className="acadex-a1">A</span>

                  <span className="acadex-c">C</span>        navigate("/login")              backgroundClip: "text",              WebkitBackgroundClip: "text",

                  <span className="acadex-a2">A</span>

                  <span className="acadex-d">D</span>      } finally {

                  <span className="acadex-e">E</span>

                  <span className="acadex-x">X</span>        setUserLoading(false)              color: "transparent",              backgroundClip: "text",

                </div>

              </div>      }

              {/* Right Section - User Profile */}

              <div className="flex items-center space-x-3">    }              letterSpacing: "0.02em",              color: "transparent",

                <div className="relative">

                  <div

                    className={`w-10 h-10 rounded-full bg-black text-white flex items-center justify-center ${

                      isDarkMode ? 'font-black text-base' : 'font-bold text-sm'    verifyAuth()              fontWeight: 700,              letterSpacing: "0.02em",

                    }`}

                  >  }, [navigate])

                    {user?.name?.charAt(0).toUpperCase() || 'U'}

                  </div>              margin: char === " " ? "0 0.12em" : "0",              fontWeight: 700,

                  <div className="status-dot absolute -top-1 -right-1 w-3 h-3 rounded-full"></div>

                </div>  if (userLoading) {

                <div className="hidden md:block">

                  <p className={`font-semibold text-base ${isDarkMode ? 'text-white' : 'text-black'}`}>    return (            }}              margin: char === " " ? "0 0.12em" : "0",

                    {user?.name || 'User'}

                  </p>      <div className="flex items-center justify-center min-h-screen">

                  <p className={`text-xs mono font-medium ${isDarkMode ? 'text-purple-300' : 'text-black'}`}>

                    Faculty        <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500"></div>            animate={{ opacity: 1, y: 0 }}            }}

                  </p>

                </div>      </div>

              </div>

            </div>    )            transition={{            initial={{ opacity: 0, y: 20 }}

          </div>

        </header>  }

        {/* Main Content */}

        <main className="relative z-10 flex-1">              duration: 0.5,            animate={{ opacity: 1, y: 0 }}

          {/* Hero Welcome Section */}

          <div className="animate-section py-20 flex items-center justify-center relative">  return (

            <div className="text-center space-y-6 relative z-20 px-8">

              <motion.h1    <div className={`min-h-screen theme-transition ${isDarkMode ? "dark-bg" : "bg-white"}`}>              delay: index * 0.1,            transition={{

                className={`text-2xl relative z-20 md:text-4xl lg:text-7xl font-bold text-center ${

                  isDarkMode ? 'text-white' : 'text-black'      {/* Main Content */}

                } font-sans tracking-tight`}

                initial={{ opacity: 0, y: 30 }}      <div className="flex-1 flex flex-col min-h-screen">              ease: "easeOut",              duration: 0.5,

                animate={{ opacity: 1, y: 0 }}

                transition={{ duration: 0.8, delay: 0.2 }}        {/* Header */}

              >

                Welcome back, <ColourfulText text={user?.name?.split(' ')[0] || 'User'} />        <header className={`animate-header ${isDarkMode ? "dark-navbar" : "white-navbar"}`}>            }}              delay: index * 0.1, // stagger per letter

              </motion.h1>

              <motion.p          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

                className={`text-lg md:text-xl ${

                  isDarkMode ? 'text-gray-300' : 'text-gray-600'            <div className="flex items-center justify-between h-16">            whileHover={{              ease: "easeOut",

                } max-w-3xl mx-auto leading-relaxed`}

                initial={{ opacity: 0, y: 20 }}              {/* Brand Section */}

                animate={{ opacity: 1, y: 0 }}

                transition={{ duration: 0.8, delay: 0.5 }}              <div className="flex items-center">              scale: 1.2,            }}

              >

                Your advanced document processing environment is ready. Upload, analyze, and extract insights from                <div className="acadex-logo text-2xl">

                your documents with AI-powered precision.

              </motion.p>                  <span className="acadex-a1">A</span>              transition: { duration: 0.2 },            whileHover={{

            </div>

          </div>                  <span className="acadex-c">C</span>

          {/* PDF Processing Section */}

          <div className="max-w-7xl mx-auto px-8 pb-12">                  <span className="acadex-a2">A</span>            }}              scale: 1.2,

            <div className="animate-section mb-12">

              <div className={`${isDarkMode ? 'dark-elevated-card' : 'elevated-card'} p-6 hover-lift`}>                  <span className="acadex-d">D</span>

                <div className="flex items-center space-x-4 mb-6">

                  <svg                  <span className="acadex-e">E</span>          >              transition: { duration: 0.2 },

                    className={`w-8 h-8 float-element ${isDarkMode ? 'text-white' : 'text-purple-600'}`}

                    fill="none"                  <span className="acadex-x">X</span>

                    stroke="currentColor"

                    viewBox="0 0 24 24"                </div>            {char === " " ? "\u00A0" : char}            }}

                  >

                    <path              </div>

                      strokeLinecap="round"

                      strokeLinejoin="round"              {/* Right Section - User Profile */}          </motion.span>          >

                      strokeWidth={2}

                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"              <div className="flex items-center space-x-3">

                    />

                  </svg>                <div className="relative">        ))}            {char === " " ? "\u00A0" : char}

                  <div>

                    <h3 className={`text-2xl font-black ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>                  <div

                      Document Processing Engine

                    </h3>                    className={`w-10 h-10 rounded-full bg-black text-white flex items-center justify-center ${      </span>          </motion.span>

                    <p className={`text-base ${isDarkMode ? 'text-gray-300' : 'text-slate-600'} mt-1`}>

                      Advanced AI-powered PDF analysis, extraction, and processing capabilities                      isDarkMode ? "font-black text-base" : "font-bold text-sm"

                    </p>

                  </div>                    }`}    )        ))}

                </div>

                <div className={`${isDarkMode ? 'dark-section-divider' : 'section-divider'} mb-6`}></div>                  >

                {/* PDF Processing Component */}

                <PDFProcessingCard />                    {user?.name?.charAt(0).toUpperCase() || "U"}  }      </span>

              </div>

            </div>                  </div>

          </div>

        </main>                  <div className="status-dot absolute -top-1 -right-1 w-3 h-3 rounded-full"></div>    )

      </div>

      {/* Error Notification */}                </div>

      {error && (

        <div                <div className="hidden md:block">  useEffect(() => {  }

          className={`fixed bottom-8 right-8 z-50 ${

            isDarkMode ? 'dark-elevated-card' : 'elevated-card'                  <p className={`font-semibold text-base ${isDarkMode ? "text-white" : "text-black"}`}>

          } p-4 max-w-md hover-lift`}

        >                    {user?.name || "User"}    const verifyAuth = async () => {

          <div className="flex items-start space-x-3">

            <div className="w-8 h-8 bg-red-500 flex items-center justify-center flex-shrink-0">                  </p>

              <svg className="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">

                <path                  <p className={`text-xs mono font-medium ${isDarkMode ? "text-purple-300" : "text-black"}`}>      try {  // Verify authentication on mount

                  fillRule="evenodd"

                  d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"                    Faculty

                  clipRule="evenodd"

                />                  </p>        const userData = await checkAuth()  useEffect(() => {

              </svg>

            </div>                </div>

            <div className="flex-1">

              <h4 className={`font-bold ${isDarkMode ? 'text-white' : 'text-slate-900'}`}>System Error</h4>              </div>        setUser(userData)    const verifyAuth = async () => {

              <p className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-slate-600'}`}>{error}</p>

            </div>            </div>

            <button

              onClick={() => setError('')}          </div>      } catch (err) {      try {

              className={`${

                isDarkMode ? 'text-gray-300 hover:text-white' : 'text-slate-600 hover:text-slate-800'        </header>

              } transition-colors`}

            >        {/* Main Content */}        console.error("Authentication failed:", err)        const userData = await checkAuth()

              <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">

                <path        <main className="relative z-10 flex-1">

                  fillRule="evenodd"

                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"          {/* Hero Welcome Section */}        navigate("/login")        setUser(userData)

                  clipRule="evenodd"

                />          <div className="animate-section py-20 flex items-center justify-center relative">

              </svg>

            </button>            <div className="text-center space-y-6 relative z-20 px-8">      } finally {      } catch (err) {

          </div>

        </div>              <motion.h1

      )}

    </div>                className={`text-2xl relative z-20 md:text-4xl lg:text-7xl font-bold text-center ${        setUserLoading(false)        console.error("Authentication failed:", err)

  );

};                  isDarkMode ? "text-white" : "text-black"



export default Dashboard;                } font-sans tracking-tight`}      }        navigate("/login")

                initial={{ opacity: 0, y: 30 }}

                animate={{ opacity: 1, y: 0 }}    }      } finally {

                transition={{ duration: 0.8, delay: 0.2 }}

              >        setUserLoading(false)

                Welcome back, <ColourfulText text={user?.name?.split(" ")[0] || "User"} />

              </motion.h1>    verifyAuth()      }

              <motion.p

                className={`text-lg md:text-xl ${  }, [navigate])    }

                  isDarkMode ? "text-gray-300" : "text-gray-600"

                } max-w-3xl mx-auto leading-relaxed`}

                initial={{ opacity: 0, y: 20 }}

                animate={{ opacity: 1, y: 0 }}  if (userLoading) {    verifyAuth()

                transition={{ duration: 0.8, delay: 0.5 }}

              >    return (  }, [navigate])

                Your advanced document processing environment is ready. Upload, analyze, and extract insights from

                your documents with AI-powered precision.      <div className="flex items-center justify-center min-h-screen">          animate={{

              </motion.p>

            </div>        <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500"></div>            background: [

          </div>

          {/* PDF Processing Section */}      </div>              "radial-gradient(circle at 20% 50%, #6366F1 0%, transparent 50%)",

          <div className="max-w-7xl mx-auto px-8 pb-12">

            <div className="animate-section mb-12">    )              "radial-gradient(circle at 80% 50%, #EF4444 0%, transparent 50%)",

              <div className={`${isDarkMode ? "dark-elevated-card" : "elevated-card"} p-6 hover-lift`}>

                <div className="flex items-center space-x-4 mb-6">  }              "radial-gradient(circle at 50% 20%, #F59E0B 0%, transparent 50%)",

                  <svg

                    className={`w-8 h-8 float-element ${isDarkMode ? "text-white" : "text-purple-600"}`}              "radial-gradient(circle at 50% 80%, #8B5CF6 0%, transparent 50%)",

                    fill="none"

                    stroke="currentColor"  return (              "radial-gradient(circle at 20% 50%, #6366F1 0%, transparent 50%)",

                    viewBox="0 0 24 24"

                  >    <div className={`min-h-screen theme-transition ${isDarkMode ? "dark-bg" : "bg-white"}`}>            ],

                    <path

                      strokeLinecap="round"      {/* Main Content */}          }}

                      strokeLinejoin="round"

                      strokeWidth={2}      <div className="flex-1 flex flex-col min-h-screen">          transition={{ duration: 3, repeat: Number.POSITIVE_INFINITY, ease: "linear" }}

                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"

                    />        {/* Header */}        />

                  </svg>

                  <div>        <header className={`animate-header ${isDarkMode ? "dark-navbar" : "white-navbar"}`}>      </motion.div>

                    <h3 className={`text-2xl font-black ${isDarkMode ? "text-white" : "text-slate-900"}`}>

                      Document Processing Engine          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">    )

                    </h3>

                    <p className={`text-base ${isDarkMode ? "text-gray-300" : "text-slate-600"} mt-1`}>            <div className="flex items-center justify-between h-16">  }

                      Advanced AI-powered PDF analysis, extraction, and processing capabilities

                    </p>              {/* Brand Section */}

                  </div>

                </div>              <div className="flex items-center">  // Logout Confirmation Dialog Component

                <div className={`${isDarkMode ? "dark-section-divider" : "section-divider"} mb-6`}></div>

                {/* PDF Processing Component */}                <div className="acadex-logo text-2xl">  const LogoutDialog = () => {

                <PDFProcessingCard />

              </div>                  <span className="acadex-a1">A</span>    if (!showLogoutDialog) return null

            </div>

          </div>                  <span className="acadex-c">C</span>    return (

        </main>

      </div>                  <span className="acadex-a2">A</span>      <div className="fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4">

      {/* Error Notification */}

      {error && (                  <span className="acadex-d">D</span>        <div

        <div

          className={`fixed bottom-8 right-8 z-50 ${                  <span className="acadex-e">E</span>          className={`${isDarkMode ? "dark-elevated-card" : "elevated-card"} p-6 max-w-md w-full mx-auto rounded-lg`}

            isDarkMode ? "dark-elevated-card" : "elevated-card"

          } p-4 max-w-md hover-lift`}                  <span className="acadex-x">X</span>        >

        >

          <div className="flex items-start space-x-3">                </div>          <div className="flex items-center space-x-4 mb-6">

            <div className="w-8 h-8 bg-red-500 flex items-center justify-center flex-shrink-0">

              <svg className="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">              </div>            <div className="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center">

                <path

                  fillRule="evenodd"              {/* Right Section - User Profile */}              <LogOut className="w-6 h-6 text-white" />

                  d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"

                  clipRule="evenodd"              <div className="flex items-center space-x-3">            </div>

                />

              </svg>                <div className="relative">            <div>

            </div>

            <div className="flex-1">                  <div              <h3 className={`text-xl font-bold ${isDarkMode ? "text-white" : "text-slate-900"}`}>Confirm Logout</h3>

              <h4 className={`font-bold ${isDarkMode ? "text-white" : "text-slate-900"}`}>System Error</h4>

              <p className={`text-sm ${isDarkMode ? "text-gray-300" : "text-slate-600"}`}>{error}</p>                    className={`w-10 h-10 rounded-full bg-black text-white flex items-center justify-center ${              <p className={`text-sm ${isDarkMode ? "text-gray-300" : "text-slate-600"}`}>

            </div>

            <button                      isDarkMode ? "font-black text-base" : "font-bold text-sm"                Are you sure you want to sign out?

              onClick={() => setError("")}

              className={`${                    }`}              </p>

                isDarkMode ? "text-gray-300 hover:text-white" : "text-slate-600 hover:text-slate-800"

              } transition-colors`}                  >            </div>

            >

              <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">                    {user?.name?.charAt(0).toUpperCase() || "U"}          </div>

                <path

                  fillRule="evenodd"                  </div>          <div className="flex space-x-4">

                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"

                  clipRule="evenodd"                  <div className="status-dot absolute -top-1 -right-1 w-3 h-3 rounded-full"></div>            <button

                />

              </svg>                </div>              onClick={handleConfirmLogout}

            </button>

          </div>                <div className="hidden md:block">              disabled={isLoading}

        </div>

      )}                  <p className={`font-semibold text-base ${isDarkMode ? "text-white" : "text-black"}`}>              className={`flex-1 px-4 py-2 ${

    </div>

  )                    {user?.name || "User"}                isDarkMode ? "bg-white text-black hover:bg-gray-100" : "bg-black hover:bg-gray-800 text-white"

}

                  </p>              } font-semibold text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed rounded`}

export default Dashboard
                  <p className={`text-xs mono font-medium ${isDarkMode ? "text-purple-300" : "text-black"}`}>            >

                    Faculty              {isLoading ? (

                  </p>                <div className="flex items-center justify-center space-x-2">

                </div>                  <div className="w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"></div>

              </div>                  <span>Signing out...</span>

            </div>                </div>

          </div>              ) : (

        </header>                "Yes, Sign Out"

        {/* Main Content */}              )}

        <main className="relative z-10 flex-1">            </button>

          {/* Hero Welcome Section */}            <button

          <div className="animate-section py-20 flex items-center justify-center relative">              onClick={() => setShowLogoutDialog(false)}

            <div className="text-center space-y-6 relative z-20 px-8">              disabled={isLoading}

              <motion.h1              className={`flex-1 px-4 py-2 ${

                className={`text-2xl relative z-20 md:text-4xl lg:text-7xl font-bold text-center ${                isDarkMode ? "bg-gray-700 text-white hover:bg-gray-600" : "bg-gray-200 text-gray-800 hover:bg-gray-300"

                  isDarkMode ? "text-white" : "text-black"              } font-semibold text-sm transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed rounded`}

                } font-sans tracking-tight`}            >

                initial={{ opacity: 0, y: 30 }}              Cancel

                animate={{ opacity: 1, y: 0 }}            </button>

                transition={{ duration: 0.8, delay: 0.2 }}          </div>

              >        </div>

                Welcome back, <ColourfulText text={user?.name?.split(" ")[0] || "User"} />      </div>

              </motion.h1>    )

              <motion.p  }

                className={`text-lg md:text-xl ${

                  isDarkMode ? "text-gray-300" : "text-gray-600"  // Sidebar Navigation Item Component

                } max-w-3xl mx-auto leading-relaxed`}  const NavItem = ({ item, isActive, onClick }) => {

                initial={{ opacity: 0, y: 20 }}    const Icon = item.icon

                animate={{ opacity: 1, y: 0 }}    return (

                transition={{ duration: 0.8, delay: 0.5 }}      <div className="relative group">

              >        <button

                Your advanced document processing environment is ready. Upload, analyze, and extract insights from          onClick={() => onClick(item.name)}

                your documents with AI-powered precision.          className={`

              </motion.p>          w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200

            </div>          ${

          </div>            isActive

          {/* PDF Processing Section */}              ? isDarkMode

          <div className="max-w-7xl mx-auto px-8 pb-12">                ? "bg-gray-900 text-white shadow-sm border border-gray-800"

            <div className="animate-section mb-12">                : "bg-gray-100 text-gray-900 shadow-sm"

              <div className={`${isDarkMode ? "dark-elevated-card" : "elevated-card"} p-6 hover-lift`}>              : isDarkMode

                <div className="flex items-center space-x-4 mb-6">                ? "text-gray-300 hover:bg-gray-900 hover:text-white"

                  <svg                : "text-gray-700 hover:bg-gray-50 hover:text-gray-900"

                    className={`w-8 h-8 float-element ${isDarkMode ? "text-white" : "text-purple-600"}`}          }

                    fill="none"          ${isMobileOpen || !isCollapsed ? "justify-start" : "justify-center px-2"}

                    stroke="currentColor"        `}

                    viewBox="0 0 24 24"        >

                  >          <Icon

                    <path            className={`

                      strokeLinecap="round"            w-4 h-4 transition-colors duration-200 flex-shrink-0

                      strokeLinejoin="round"            ${

                      strokeWidth={2}              isActive

                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"                ? isDarkMode

                    />                  ? "text-white"

                  </svg>                  : "text-gray-700"

                  <div>                : isDarkMode

                    <h3 className={`text-2xl font-black ${isDarkMode ? "text-white" : "text-slate-900"}`}>                  ? "text-gray-500 group-hover:text-white"

                      Document Processing Engine                  : "text-gray-500 group-hover:text-gray-700"

                    </h3>            }

                    <p className={`text-base ${isDarkMode ? "text-gray-300" : "text-slate-600"} mt-1`}>          `}

                      Advanced AI-powered PDF analysis, extraction, and processing capabilities          />

                    </p>          {/* Only show text when sidebar is expanded */}

                  </div>          {(isMobileOpen || !isCollapsed) && (

                </div>            <span className="text-sm font-medium flex-1 text-left truncate">{item.name}</span>

                <div className={`${isDarkMode ? "dark-section-divider" : "section-divider"} mb-6`}></div>          )}

                {/* PDF Processing Component */}        </button>

                <PDFProcessingCard />        {/* Tooltip for collapsed state */}

              </div>        {isCollapsed && (

            </div>          <div

          </div>            className={`absolute left-full ml-2 top-1/2 -translate-y-1/2 ${

        </main>              isDarkMode ? "bg-gray-900 text-white border border-gray-800" : "bg-gray-900 text-white"

      </div>            } text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50`}

      {/* Error Notification */}          >

      {error && (            {item.name}

        <div            {item.description && <div className="text-gray-400 text-xs">{item.description}</div>}

          className={`fixed bottom-8 right-8 z-50 ${          </div>

            isDarkMode ? "dark-elevated-card" : "elevated-card"        )}

          } p-4 max-w-md hover-lift`}      </div>

        >    )

          <div className="flex items-start space-x-3">  }

            <div className="w-8 h-8 bg-red-500 flex items-center justify-center flex-shrink-0">

              <svg className="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">  // Initialize GSAP animations

                <path  useEffect(() => {

                  fillRule="evenodd"    const loadGSAP = async () => {

                  d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"      if (!window.gsap) {

                  clipRule="evenodd"        const gsapScript = document.createElement("script")

                />        gsapScript.src = "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"

              </svg>        document.head.appendChild(gsapScript)

            </div>        await new Promise((resolve) => (gsapScript.onload = resolve))

            <div className="flex-1">      }

              <h4 className={`font-bold ${isDarkMode ? "text-white" : "text-slate-900"}`}>System Error</h4>      if (window.gsap && !userLoading) {

              <p className={`text-sm ${isDarkMode ? "text-gray-300" : "text-slate-600"}`}>{error}</p>        const { gsap } = window

            </div>        gsapRef.current = gsap

            <button        // Animate main sections

              onClick={() => setError("")}        gsap.fromTo(

              className={`${          ".animate-section",

                isDarkMode ? "text-gray-300 hover:text-white" : "text-slate-600 hover:text-slate-800"          { y: 60, opacity: 0 },

              } transition-colors`}          { y: 0, opacity: 1, duration: 1.2, stagger: 0.2, ease: "power3.out" },

            >        )

              <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">        gsap.fromTo(".animate-header", { y: -30, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8, ease: "power2.out" })

                <path        // Continuous animations - check if elements exist first

                  fillRule="evenodd"        const pulseElements = document.querySelectorAll(".pulse-indicator");

                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"        if (pulseElements.length > 0) {

                  clipRule="evenodd"          gsap.to(".pulse-indicator", {

                />            scale: 1.2,

              </svg>            opacity: 0.6,

            </button>            duration: 2,

          </div>            repeat: -1,

        </div>            yoyo: true,

      )}            ease: "power2.inOut",

    </div>          });

  )        }

}        gsap.to(".float-element", {

          y: -8,

export default Dashboard          duration: 3,
          repeat: -1,
          yoyo: true,
          ease: "power1.inOut",
          stagger: 0.5,
        })
      }
    }
    loadGSAP()
  }, [userLoading])

  // Fetch user data
  useEffect(() => {
    const fetchUserData = async () => {
      try {
        const response = await checkAuth()
        setUser(response.user)
      } catch {
        navigate("/login")
      } finally {
        setUserLoading(false)
      }
    }
    fetchUserData()
  }, [navigate])

  const handleConfirmLogout = async () => {
    setIsLoading(true)
    setError("")
    try {
      await logout()
      navigate("/login")
    } catch {
      setError("Logout failed. Please try again.")
    } finally {
      setIsLoading(false)
      setShowLogoutDialog(false)
    }
  }

  const handleLogoutClick = () => {
    setShowLogoutDialog(true)
  }



  const handleItemClick = (itemName) => {
    setActiveItem(itemName)
    // Close mobile sidebar when an item is clicked
    if (window.innerWidth < 1024) {
      setIsMobileOpen(false)
    }
  }

  // Unified toggle function for both mobile and desktop
  const handleSidebarToggle = () => {
    if (window.innerWidth < 1024) {
      setIsMobileOpen(!isMobileOpen)
    } else {
      setIsCollapsed(!isCollapsed)
    }
  }

  if (userLoading) {
    return (
      <div
        className={`min-h-screen flex items-center justify-center transition-all duration-700 ${
          isDarkMode ? "bg-black" : "bg-white"
        }`}
      >
        <div className="text-center">
          <div className="relative w-24 h-24 mx-auto mb-8">
            <div
              className={`absolute inset-0 border-4 ${
                isDarkMode ? "border-purple-500" : "border-blue-200"
              } rounded-full animate-ping opacity-20`}
            ></div>
            <div
              className={`absolute inset-2 border-4 ${
                isDarkMode ? "border-purple-400" : "border-blue-400"
              } rounded-full animate-spin`}
            ></div>
            <div
              className={`absolute inset-4 border-4 ${
                isDarkMode ? "border-purple-600" : "border-blue-600"
              } rounded-full animate-pulse`}
            ></div>
            <div
              className={`absolute inset-6 ${
                isDarkMode
                  ? "bg-gradient-to-r from-purple-500 to-pink-600"
                  : "bg-gradient-to-r from-blue-500 to-indigo-600"
              } rounded-full flex items-center justify-center`}
            >
              <svg className="w-8 h-8 text-white animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
          </div>
          <h2 className={`text-3xl font-bold mb-4 ${isDarkMode ? "text-white" : "text-slate-900"}`}>
            Initializing ACADEX Portal
          </h2>
          <div className="flex justify-center space-x-2">
            {[...Array(5)].map((_, i) => (
              <div
                key={i}
                className={`w-3 h-3 rounded-full ${isDarkMode ? "bg-purple-600" : "bg-blue-600"} animate-bounce`}
                style={{ animationDelay: `${i * 0.1}s` }}
              />
            ))}
          </div>
        </div>
      </div>
    )
  }

  const sidebarWidth = "18rem" // Corresponds to w-72

  return (
    <>
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Exo+2:wght@400;500;600;700;800;900&family=Rajdhani:wght@400;500;600;700&display=swap');
        * {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        .mono {
          font-family: 'JetBrains Mono', monospace;
        }
        .theme-transition {
          transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        /* Light Theme Navbar */
        .white-navbar {
          background: #ffffff;
          border-bottom: 1px solid #e5e7eb;
          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
          min-height: 64px;
        }
        /* Dark Theme Navbar - Next Level Design */
        .dark-navbar {
          background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #111111 100%);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow:
            0 4px 20px rgba(0, 0, 0, 0.8),
            0 1px 3px rgba(255, 255, 255, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
          backdrop-filter: blur(20px);
          min-height: 64px;
        }
        /* Enhanced Card Shadows - Light */
        .elevated-card {
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(20px) saturate(180%);
          border: 1px solid rgba(203, 213, 225, 0.2);
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.8);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .elevated-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15), 0 8px 20px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }
        /* Dark Theme Cards - Massive Innovation */
        .dark-elevated-card {
          background: linear-gradient(135deg, #0a0a0a 0%, #111111 50%, #1a1a1a 100%);
          backdrop-filter: blur(30px) saturate(200%);
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow:
            0 20px 60px rgba(0, 0, 0, 0.9),
            0 8px 25px rgba(255, 255, 255, 0.05),
            inset 0 1px 0 rgba(255, 255, 255, 0.1),
            0 0 40px rgba(139, 92, 246, 0.1);
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .dark-elevated-card:hover {
          transform: translateY(-4px) scale(1.01);
          box-shadow:
            0 30px 80px rgba(0, 0, 0, 0.95),
            0 12px 35px rgba(255, 255, 255, 0.08),
            inset 0 1px 0 rgba(255, 255, 255, 0.15),
            0 0 60px rgba(139, 92, 246, 0.2);
        }
        /* Account Card Light Theme - NO GLOW */
        .account-card {
          background: linear-gradient(135deg, #fefcf3 0%, #faf8f1 50%, #f7f5ef 100%);
          border: 1px solid rgba(218, 165, 32, 0.2);
          position: relative;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          overflow: hidden;
          box-shadow:
            0 10px 30px rgba(0, 0, 0, 0.08),
            0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .account-card:hover {
          transform: translateY(-4px) scale(1.02);
          box-shadow:
            0 20px 50px rgba(0, 0, 0, 0.1),
            0 8px 25px rgba(0, 0, 0, 0.08);
        }
        /* Account Card Dark Theme - Raw Black NO GLOW */
        .dark-account-card {
          background: linear-gradient(135deg, #000000 0%, #0d0d0d 25%, #1a1a1a 50%, #0d0d0d 75%, #000000 100%);
          border: 1px solid rgba(255, 255, 255, 0.15);
          position: relative;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          overflow: hidden;
          box-shadow:
            0 20px 60px rgba(0, 0, 0, 0.95),
            0 8px 30px rgba(255, 255, 255, 0.05),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        .dark-account-card:hover {
          transform: translateY(-6px) scale(1.03);
          box-shadow:
            0 30px 80px rgba(0, 0, 0, 0.98),
            0 12px 40px rgba(255, 255, 255, 0.08),
            inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }
        /* Corner Icons */
        .corner-icon {
          position: absolute;
          width: 20px;
          height: 20px;
          transition: all 0.3s ease;
          z-index: 10;
        }
        .corner-icon.top-left { top: -10px; left: -10px; }
        .corner-icon.top-right { top: -10px; right: -10px; }
        .corner-icon.bottom-left { bottom: -10px; left: -10px; }
        .corner-icon.bottom-right { bottom: -10px; right: -10px; }
        /* Light Theme Corner Icons */
        .light-corner-icon {
          color: rgba(139, 69, 19, 0.5);
        }
        .account-card:hover .light-corner-icon {
          color: rgba(139, 69, 19, 0.7);
          transform: rotate(90deg) scale(1.1);
        }
        /* Dark Theme Corner Icons - Normal White */
        .dark-corner-icon {
          color: rgba(255, 255, 255, 0.6);
        }
        .dark-account-card:hover .dark-corner-icon {
          color: rgba(255, 255, 255, 0.9);
          transform: rotate(90deg) scale(1.2);
        }
        /* Content styling */
        .account-content {
          position: relative;
          z-index: 20;
          transition: all 0.3s ease;
        }
        /* Light Theme Content */
        .light-content {
          color: #1f2937;
        }
        .light-content .text-slate-600 {
          color: #6b7280 !important;
        }
        .light-content .text-slate-900 {
          color: #1f2937 !important;
        }
        .light-content .text-blue-600 {
          color: #2563eb !important;
        }
        .light-content .text-green-500 {
          color: #10b981 !important;
        }
        .light-content .accent-border {
          border-left-color: rgba(218, 165, 32, 0.6);
        }
        .account-card:hover .light-content .accent-border {
          border-left-color: rgba(218, 165, 32, 0.8);
        }
        /* Dark Theme Content - Normal White Colors */
        .dark-content {
          color: #ffffff;
        }
        .dark-content .text-slate-600 {
          color: rgba(255, 255, 255, 0.7) !important;
        }
        .dark-content .text-slate-900 {
          color: #ffffff !important;
        }
        .dark-content .text-blue-600 {
          color: #ffffff !important;
        }
        .dark-content .text-green-500 {
          color: #10b981 !important;
        }
        .dark-content .accent-border {
          border-left-color: rgba(255, 255, 255, 0.6);
        }
        .dark-account-card:hover .dark-content .accent-border {
          border-left-color: rgba(255, 255, 255, 0.9);
        }
        .section-divider {
          background: linear-gradient(90deg, transparent, rgba(203, 213, 225, 0.4), transparent);
          height: 1px;
        }
        .dark-section-divider {
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          height: 1px;
        }
        .accent-border {
          border-left: 4px solid rgba(218, 165, 32, 0.6);
          transition: border-left-color 0.3s ease;
        }
        .dark-accent-border {
          border-left: 4px solid rgba(255, 255, 255, 0.6);
          transition: all 0.3s ease;
        }
        .status-dot {
          background: #10b981;
          box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
          animation: statusPulse 2s infinite;
        }
        @keyframes statusPulse {
          0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
          70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
          100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        .hover-lift {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .hover-lift:hover {
          transform: translateY(-2px);
        }
        /* Custom ACADEX Logo Styling */
        .acadex-logo {
          font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
          font-weight: 800;
          letter-spacing: -0.01em;
          line-height: 1;
          display: flex;
          align-items: center;
          justify-content: flex-start;
          gap: 0.05em;
          margin-bottom: 0;
        }
        .acadex-logo span {
          position: relative;
          transition: all 0.2s ease;
          cursor: default;
          font-weight: 800;
          text-rendering: optimizeLegibility;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        .acadex-logo span:hover {
          transform: translateY(-1px);
        }
        .acadex-a1 { color: #6366F1; }
        .acadex-c { color: #EF4444; }
        .acadex-a2 { color: #F59E0B; }
        .acadex-d { color: #8B5CF6; }
        .acadex-e { color: #10B981; }
        .acadex-x { color: #F97316; }
        /* Dark Theme Background */
        .dark-bg {
          background: linear-gradient(135deg, #000000 0%, #0a0a0a 25%, #111111 50%, #0a0a0a 75%, #000000 100%);
        }
        /* Dark Theme Text Colors */
        .dark-text-primary {
          color: #ffffff;
        }
        .dark-text-secondary {
          color: rgba(255, 255, 255, 0.8);
        }
        .dark-text-muted {
          color: rgba(255, 255, 255, 0.6);
        }
      `}</style>
      <div className={`min-h-screen theme-transition ${isDarkMode ? "dark-bg" : "bg-white"}`}>
        >
          {/* Sidebar Header */}
          <div
            className={`
              flex items-center ${isDarkMode ? "border-gray-800 bg-black" : "border-gray-100"} border-b p-4
              ${isMobileOpen || !isCollapsed ? "justify-between" : "justify-center"}
            `}
          >
            {isMobileOpen || !isCollapsed ? ( // When sidebar is open (mobile or desktop)
              <div className="flex items-center gap-3">
                <AnimatedASymbol />
                <div>
                  <SidebarAcadexLogo />
                  <p className={`text-xs ${isDarkMode ? "text-gray-400" : "text-gray-500"}`}>Pro Plan</p>
                </div>
              </div> // When sidebar is collapsed (desktop)
            ) : (
              <AnimatedASymbol />
            )}
            {/* Close button for the sidebar, visible when sidebar is open */}
            {(isMobileOpen || !isCollapsed) && (
              <button
                onClick={handleSidebarToggle}
                className={`
                  p-1.5 rounded-lg ${isDarkMode ? "hover:bg-gray-800" : "hover:bg-gray-100"} transition-colors duration-200
                `}
              >
                <ChevronLeft className={`w-4 h-4 ${isDarkMode ? "text-gray-400" : "text-gray-500"}`} />
              </button>
            )}
          </div>
          {/* Navigation */}
          <div className="flex-1 overflow-y-auto">
            <div className={`p-3 space-y-1 ${isDarkMode ? "bg-black" : ""}`}>
              {mainNavItems.map((item) => (
                <NavItem key={item.name} item={item} isActive={activeItem === item.name} onClick={handleItemClick} />
              ))}
            </div>
            {/* Separator */}
            <div className={`mx-4 my-4 border-t ${isDarkMode ? "border-gray-800" : "border-gray-200"}`}></div>
          </div>

          {/* Logout Button */}
          {(isMobileOpen || !isCollapsed) && (
            <div className={`p-3 ${isDarkMode ? "bg-black" : ""}`}>
              <button
                onClick={handleLogoutClick}
                disabled={isLoading}
                className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${
                  isDarkMode
                    ? "text-gray-300 hover:bg-gray-900 hover:text-red-300"
                    : "text-gray-700 hover:bg-red-50 hover:text-red-700"
                } justify-start`}
              >
                <LogOut
                  className={`w-4 h-4 transition-colors duration-200 flex-shrink-0 ${
                    isDarkMode ? "text-gray-500 hover:text-red-300" : "text-gray-500 hover:text-red-700"
                  }`}
                />
                <span className="text-sm font-medium flex-1 text-left truncate">Sign Out</span>
              </button>
            </div>
          )}

          {/* Account Information Section */}
          {(isMobileOpen || !isCollapsed) && (
            <div className={`${isDarkMode ? "border-gray-800 bg-black" : "border-gray-100"} border-t p-4`}>
              <div className="space-y-4">
                <div className="flex items-center gap-3">
                  <div
                    className={`w-8 h-8 ${isDarkMode ? "bg-gray-800" : "bg-black"} rounded-full flex items-center justify-center`}
                  >
                    <span className="text-white text-sm font-medium">{user?.name?.charAt(0).toUpperCase() || "U"}</span>
                  </div>
                  <div className="flex-1 min-w-0">
                    <p className={`text-sm font-medium ${isDarkMode ? "text-white" : "text-gray-900"} truncate`}>
                      {user?.name || "User"}
                    </p>
                    <p className={`text-xs ${isDarkMode ? "text-gray-500" : "text-gray-500"} truncate`}>
                      {user?.email || "user@example.com"}
                    </p>
                  </div>
                  <Bell className={`w-4 h-4 ${isDarkMode ? "text-gray-500" : "text-gray-400"}`} />
                </div>
                {/* Account Status */}
                <div className="flex items-center justify-between">
                  <span className={`text-xs ${isDarkMode ? "text-gray-500" : "text-gray-500"}`}>Status</span>
                  <div className="flex items-center space-x-2">
                    <div className="pulse-indicator w-2 h-2 bg-green-500 rounded-full"></div>
                    <span className={`text-xs font-medium ${isDarkMode ? "text-green-400" : "text-green-600"}`}>
                      ACTIVE
                    </span>
                  </div>
                </div>
              </div>
            </div>
          )}
        </motion.div>
        {/* Main Content */}
        <div className="flex-1 flex flex-col min-h-screen">
          {/* Dynamic Navbar - ACADEX name hides when sidebar opens */}
          <header className={`animate-header ${isDarkMode ? "dark-navbar" : "white-navbar"}`}>
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex items-center justify-between h-16">
                {/* Left Section - Single Unified Sidebar Toggle */}
                <div className="flex items-center">
                  {/* Single Unified Sidebar Toggle Button */}
                  <button
                    onClick={handleSidebarToggle}
                    className={`flex items-center justify-center p-3 rounded-lg ${
                      isDarkMode ? "hover:bg-gray-800 text-white" : "hover:bg-gray-100 text-gray-900"
                    } transition-all duration-200 group mr-4`}
                  >
                    {/* Dynamic Icon based on mobile/desktop and collapsed state */}
                    {window.innerWidth < 1024 ? (
                      <div className="relative w-6 h-6 flex flex-col justify-center items-center">
                        <span
                          className={`block h-0.5 w-6 ${isDarkMode ? "bg-white" : "bg-gray-900"} transform transition duration-300 ease-in-out ${isMobileOpen ? "rotate-45 translate-y-1.5" : ""}`}
                        ></span>
                        <span
                          className={`block h-0.5 w-6 ${isDarkMode ? "bg-white" : "bg-gray-900"} transform transition duration-300 ease-in-out mt-1 ${isMobileOpen ? "opacity-0" : ""}`}
                        ></span>
                        <span
                          className={`block h-0.5 w-6 ${isDarkMode ? "bg-white" : "bg-gray-900"} transform transition duration-300 ease-in-out mt-1 ${isMobileOpen ? "-rotate-45 -translate-y-1.5" : ""}`}
                        ></span>
                      </div>
                    ) : isCollapsed ? (
                      <ChevronRight className="w-6 h-6" />
                    ) : (
                      <ChevronLeft className="w-6 h-6" />
                    )}
                  </button>
                  {/* Brand Section - Show ACADEX name only when sidebar is collapsed */}
                  <motion.div
                    initial={false}
                    animate={{
                      opacity: isCollapsed ? 1 : 0,
                      scale: isCollapsed ? 1 : 0.8,
                      x: isCollapsed ? 0 : -20,
                    }}
                    transition={{ duration: 0.3, ease: "easeInOut" }}
                    className="flex items-center"
                  >
                    {isCollapsed && (
                      <div className="acadex-logo text-2xl">
                        <span className="acadex-a1">A</span>
                        <span className="acadex-c">C</span>
                        <span className="acadex-a2">A</span>
                        <span className="acadex-d">D</span>
                        <span className="acadex-e">E</span>
                        <span className="acadex-x">X</span>
                      </div>
                    )}
                  </motion.div>
                </div>
                {/* Right Section - Controls */}
                <div className="flex items-center space-x-4">

                  {/* User Profile */}
                  <div className="flex items-center space-x-3">
                    <div className="relative">
                      <div
                        className={`w-10 h-10 rounded-full bg-black text-white flex items-center justify-center ${
                          isDarkMode ? "font-black text-base" : "font-bold text-sm"
                        }`}
                      >
                        {user?.name?.charAt(0).toUpperCase() || "U"}
                      </div>
                      <div className="status-dot absolute -top-1 -right-1 w-3 h-3 rounded-full"></div>
                    </div>
                    <div className="hidden md:block">
                      <p className={`font-semibold text-base ${isDarkMode ? "text-white" : "text-black"}`}>
                        {user?.name || "User"}
                      </p>
                      <p className={`text-xs mono font-medium ${isDarkMode ? "text-purple-300" : "text-black"}`}>
                        Faculty
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </header>
          {/* Main Content with Top Padding for Fixed Navbar */}
          <main className="relative z-10 flex-1">
            {/* Hero Welcome Section with New Font Style - No Background */}
            <div className="animate-section py-20 flex items-center justify-center relative">
              <div className="text-center space-y-6 relative z-20 px-8">
                <motion.h1
                  className={`text-2xl relative z-20 md:text-4xl lg:text-7xl font-bold text-center ${
                    isDarkMode ? "text-white" : "text-black"
                  } font-sans tracking-tight`}
                  initial={{ opacity: 0, y: 30 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.8, delay: 0.2 }}
                >
                  Welcome back, <ColourfulText text={user?.name?.split(" ")[0] || "User"} />
                </motion.h1>
                <motion.p
                  className={`text-lg md:text-xl ${
                    isDarkMode ? "text-gray-300" : "text-gray-600"
                  } max-w-3xl mx-auto leading-relaxed`}
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.8, delay: 0.5 }}
                >
                  Your advanced document processing environment is ready. Upload, analyze, and extract insights from
                  your documents with AI-powered precision.
                </motion.p>
              </div>
            </div>
            <div className="max-w-7xl mx-auto px-8 pb-12">
              {/* PDF Processing Section */}
              <div className="animate-section mb-12">
                <div className={`${isDarkMode ? "dark-elevated-card" : "elevated-card"} p-6 hover-lift`}>
                  <div className="flex items-center space-x-4 mb-6">
                    <svg
                      className={`w-8 h-8 float-element ${isDarkMode ? "text-white" : "text-purple-600"}`}
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        strokeLinecap="round"
                        strokeLinejoin="round"
                        strokeWidth={2}
                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                      />
                    </svg>
                    <div>
                      <h3 className={`text-2xl font-black ${isDarkMode ? "text-white" : "text-slate-900"}`}>
                        Document Processing Engine
                      </h3>
                      <p className={`text-base ${isDarkMode ? "text-gray-300" : "text-slate-600"} mt-1`}>
                        Advanced AI-powered PDF analysis, extraction, and processing capabilities
                      </p>
                    </div>
                  </div>
                  <div className={`${isDarkMode ? "dark-section-divider" : "section-divider"} mb-6`}></div>
{/* PDF Processing Component */}
                  <PDFProcessingCard />

                </div>
              </div>
            </div>
          </main>
        </div>
        {/* Logout Confirmation Dialog */}
        <LogoutDialog />
        {/* Error Notification */}
        {error && (
          <div
            className={`fixed bottom-8 right-8 z-50 ${
              isDarkMode ? "dark-elevated-card" : "elevated-card"
            } p-4 max-w-md hover-lift`}
          >
            <div className="flex items-start space-x-3">
              <div className="w-8 h-8 bg-red-500 flex items-center justify-center flex-shrink-0">
                <svg className="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    fillRule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                    clipRule="evenodd"
                  />
                </svg>
              </div>
              <div className="flex-1">
                <h4 className={`font-bold ${isDarkMode ? "text-white" : "text-slate-900"}`}>System Error</h4>
                <p className={`text-sm ${isDarkMode ? "text-gray-300" : "text-slate-600"}`}>{error}</p>
              </div>
              <button
                onClick={() => setError("")}
                className={`${
                  isDarkMode ? "text-gray-300 hover:text-white" : "text-slate-600 hover:text-slate-800"
                } transition-colors`}
              >
                <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    fillRule="evenodd"
                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                    clipRule="evenodd"
                  />
                </svg>
              </button>
            </div>
          </div>
        )}
      </div>
    </>
  )
}

export default Dashboard
